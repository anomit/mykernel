cscope 15 $HOME/code/mykernel/src               0000012367
	@common.c

3 
	~"commÚ.h
"

6 
	$outb
(
u16št
 
pÜt
, 
u8št
 
v®ue
)

8 
asm
 vŞ©("outb %1, %0" : : "dN" (
pÜt
), "a" (
v®ue
));

9 
	}
}

12 
u8št
 
	$šb
(
u16št
 
pÜt
)

14 
u8št
 
»t
;

15 
asm
 vŞ©("šb %1, %0" : "÷" (
»t
è: "dN" (
pÜt
));

16  
»t
;

17 
	}
}

20 
u16št
 
	$šw
(
u16št
 
pÜt
)

22 
u16št
 
»t
;

23 
asm
 vŞ©("šw %1, %0" : "÷" (
»t
è: "dN" (
pÜt
));

24  
»t
;

25 
	}
}

27 *
	$mem£t
(*
s
, 
c
, 
u32št
 
size
)

29 
u8št
 *
±r
 = 
s
;

30 
u8št
 
uc
 = 
c
;

31  
size
-- != 0 )

32 *
±r
++ = 
uc
;

34  
s
;

35 
	}
}

37 
	$·nic
(cÚ¡ *
mes§ge
, cÚ¡ *
fe
, 
u32št
 
lše
)

40 
asm
 volatile("cli");

42 
	`mÚ™Ü_wr™e
("PANIC(");

43 
	`mÚ™Ü_wr™e
(
mes§ge
);

44 
	`mÚ™Ü_wr™e
(")‡t ");

45 
	`mÚ™Ü_wr™e
(
fe
);

46 
	`mÚ™Ü_wr™e
(":");

47 
	`mÚ™Ü_wr™e_dec
(
lše
);

48 
	`mÚ™Ü_wr™e
("\n");

51 
	}
}

53 
	$·nic_as£¹
(cÚ¡ *
fe
, 
u32št
 
lše
, cÚ¡ *
desc
)

56 
asm
 volatile("cli");

58 
	`mÚ™Ü_wr™e
("ASSERTION-FAILED(");

59 
	`mÚ™Ü_wr™e
(
desc
);

60 
	`mÚ™Ü_wr™e
(")‡t ");

61 
	`mÚ™Ü_wr™e
(
fe
);

62 
	`mÚ™Ü_wr™e
(":");

63 
	`mÚ™Ü_wr™e_dec
(
lše
);

64 
	`mÚ™Ü_wr™e
("\n");

67 
	}
}

	@common.h

3 #iâdeà
COMMON_H


4 
	#COMMON_H


	)

8 
	tu32št
;

9 
	ts32št
;

10 
	tu16št
;

11 
	ts16št
;

12 
	tu8št
;

13 
	ts8št
;

14 
	#PANIC
(
msg
è
	`·nic
(msg, 
__FILE__
, 
__LINE__
);

	)

15 
	#ASSERT
(
b
è((bè? ()0 : 
	`·nic_as£¹
(
__FILE__
, 
__LINE__
, #b))

	)

17 
outb
(
u16št
 
pÜt
, 
u8št
 
v®ue
);

18 
u8št
 
šb
(
u16št
 
pÜt
);

19 
u16št
 
šw
(u16šˆ
pÜt
);

21 *
mem£t
(* 
s
, 
c
, 
u32št
 
size
);

	@descriptor_tables.c

5 
	~"commÚ.h
"

6 
	~"desütÜ_bËs.h
"

7 
	~"i¤.h
"

10 
gdt_æush
(
u32št
);

11 
idt_æush
(
u32št
);

13 
š™_gdt
();

14 
gdt_£t_g©e
(
s32št
 
num
, 
u32št
 
ba£
, u32šˆ
lim™
, 
u8št
 
acûss
, u8šˆ
g¿n
);

16 
š™_idt
();

17 
idt_£t_g©e
(
u8št
 
num
, 
u32št
 
ba£
, 
u16št
 
£l
, u8šˆ
æags
);

19 
gdt_’Œy_t
 
	ggdt_’Œ›s
[5];

20 
gdt_±r_t
 
	ggdt_±r
;

21 
idt_’Œy_t
 
	gidt_’Œ›s
[256];

22 
idt_±r_t
 
	gidt_±r
;

24 
i¤_t
 
š‹¼u±_hªdËrs
[];

26 
	$š™_desütÜ_bËs
()

28 
	`š™_gdt
();

29 
	`š™_idt
();

30 
	`mem£t
(&
š‹¼u±_hªdËrs
, 0, (
i¤_t
)*256);

31 
	}
}

34 
	$š™_gdt
()

36 
gdt_±r
.
lim™
 = ((
gdt_’Œy_t
) * 5) - 1;

37 
gdt_±r
.
ba£
 = (
u32št
)&
gdt_’Œ›s
;

40 
	`gdt_£t_g©e
(0, 0, 0, 0, 0);

43 
	`gdt_£t_g©e
(1, 0, 0xFFFFFFFF, 0x9A, 0xCF);

46 
	`gdt_£t_g©e
(2, 0, 0xFFFFFFFF, 0x92, 0xCF);

49 
	`gdt_£t_g©e
(3, 0, 0xFFFFFFFF, 0xFA, 0xCF);

52 
	`gdt_£t_g©e
(4, 0, 0xFFFFFFFF, 0xF2, 0xCF);

54 
	`gdt_æush
((
u32št
)&
gdt_±r
);

55 
	}
}

58 
	$gdt_£t_g©e
(
s32št
 
num
, 
u32št
 
ba£
, u32šˆ
lim™
, 
u8št
 
acûss
, u8šˆ
g¿n
)

60 
gdt_’Œ›s
[
num
].
ba£_low
 = (
ba£
 & 0xFFFF);

61 
gdt_’Œ›s
[
num
].
ba£_middË
 = (
ba£
 >> 16) & 0xFF;

62 
gdt_’Œ›s
[
num
].
ba£_high
 = (
ba£
 >> 24) & 0xFF;

64 
gdt_’Œ›s
[
num
].
lim™_low
 = (
lim™
 & 0xFFFF);

65 
gdt_’Œ›s
[
num
].
g¿nuÏr™y
 = (
lim™
 >> 16) & 0x0F;

66 
gdt_’Œ›s
[
num
].
g¿nuÏr™y
 |ğ
g¿n
 & 0xF0;

68 
gdt_’Œ›s
[
num
].
acûss
 =‡ccess;

69 
	}
}

71 
	$š™_idt
()

73 
idt_±r
.
lim™
 = (
idt_’Œy_t
) * 256 - 1;

74 
idt_±r
.
ba£
 = (
u32št
)&
idt_’Œ›s
;

76 
	`mem£t
(&
idt_’Œ›s
, 0, (
idt_’Œy_t
) * 256);

79 
	`outb
(0x20, 0x11);

80 
	`outb
(0xA0, 0x11);

81 
	`outb
(0x21, 0x20);

82 
	`outb
(0xA1, 0x28);

83 
	`outb
(0x21, 0x04);

84 
	`outb
(0xA1, 0x02);

85 
	`outb
(0x21, 0x01);

86 
	`outb
(0xA1, 0x01);

87 
	`outb
(0x21, 0x0);

88 
	`outb
(0xA1, 0x0);

90 
	`idt_£t_g©e
Ğ0, (
u32št
)
i¤0
 , 0x08, 0x8E);

91 
	`idt_£t_g©e
Ğ1, (
u32št
)
i¤1
 , 0x08, 0x8E);

92 
	`idt_£t_g©e
Ğ2, (
u32št
)
i¤2
 , 0x08, 0x8E);

93 
	`idt_£t_g©e
Ğ3, (
u32št
)
i¤3
 , 0x08, 0x8E);

94 
	`idt_£t_g©e
Ğ4, (
u32št
)
i¤4
 , 0x08, 0x8E);

95 
	`idt_£t_g©e
Ğ5, (
u32št
)
i¤5
 , 0x08, 0x8E);

96 
	`idt_£t_g©e
Ğ6, (
u32št
)
i¤6
 , 0x08, 0x8E);

97 
	`idt_£t_g©e
Ğ7, (
u32št
)
i¤7
 , 0x08, 0x8E);

98 
	`idt_£t_g©e
Ğ8, (
u32št
)
i¤8
 , 0x08, 0x8E);

99 
	`idt_£t_g©e
Ğ9, (
u32št
)
i¤9
 , 0x08, 0x8E);

100 
	`idt_£t_g©e
(10, (
u32št
)
i¤10
, 0x08, 0x8E);

101 
	`idt_£t_g©e
(11, (
u32št
)
i¤11
, 0x08, 0x8E);

102 
	`idt_£t_g©e
(12, (
u32št
)
i¤12
, 0x08, 0x8E);

103 
	`idt_£t_g©e
(13, (
u32št
)
i¤13
, 0x08, 0x8E);

104 
	`idt_£t_g©e
(14, (
u32št
)
i¤14
, 0x08, 0x8E);

105 
	`idt_£t_g©e
(15, (
u32št
)
i¤15
, 0x08, 0x8E);

106 
	`idt_£t_g©e
(16, (
u32št
)
i¤16
, 0x08, 0x8E);

107 
	`idt_£t_g©e
(17, (
u32št
)
i¤17
, 0x08, 0x8E);

108 
	`idt_£t_g©e
(18, (
u32št
)
i¤18
, 0x08, 0x8E);

109 
	`idt_£t_g©e
(19, (
u32št
)
i¤19
, 0x08, 0x8E);

110 
	`idt_£t_g©e
(20, (
u32št
)
i¤20
, 0x08, 0x8E);

111 
	`idt_£t_g©e
(21, (
u32št
)
i¤21
, 0x08, 0x8E);

112 
	`idt_£t_g©e
(22, (
u32št
)
i¤22
, 0x08, 0x8E);

113 
	`idt_£t_g©e
(23, (
u32št
)
i¤23
, 0x08, 0x8E);

114 
	`idt_£t_g©e
(24, (
u32št
)
i¤24
, 0x08, 0x8E);

115 
	`idt_£t_g©e
(25, (
u32št
)
i¤25
, 0x08, 0x8E);

116 
	`idt_£t_g©e
(26, (
u32št
)
i¤26
, 0x08, 0x8E);

117 
	`idt_£t_g©e
(27, (
u32št
)
i¤27
, 0x08, 0x8E);

118 
	`idt_£t_g©e
(28, (
u32št
)
i¤28
, 0x08, 0x8E);

119 
	`idt_£t_g©e
(29, (
u32št
)
i¤29
, 0x08, 0x8E);

120 
	`idt_£t_g©e
(30, (
u32št
)
i¤30
, 0x08, 0x8E);

121 
	`idt_£t_g©e
(31, (
u32št
)
i¤31
, 0x08, 0x8E);

123 
	`idt_£t_g©e
(32, (
u32št
)
œq0
, 0x08, 0x8E);

124 
	`idt_£t_g©e
(33, (
u32št
)
œq1
, 0x08, 0x8E);

125 
	`idt_£t_g©e
(34, (
u32št
)
œq2
, 0x08, 0x8E);

126 
	`idt_£t_g©e
(35, (
u32št
)
œq3
, 0x08, 0x8E);

127 
	`idt_£t_g©e
(36, (
u32št
)
œq4
, 0x08, 0x8E);

128 
	`idt_£t_g©e
(37, (
u32št
)
œq5
, 0x08, 0x8E);

129 
	`idt_£t_g©e
(38, (
u32št
)
œq6
, 0x08, 0x8E);

130 
	`idt_£t_g©e
(39, (
u32št
)
œq7
, 0x08, 0x8E);

131 
	`idt_£t_g©e
(40, (
u32št
)
œq8
, 0x08, 0x8E);

132 
	`idt_£t_g©e
(41, (
u32št
)
œq9
, 0x08, 0x8E);

133 
	`idt_£t_g©e
(42, (
u32št
)
œq10
, 0x08, 0x8E);

134 
	`idt_£t_g©e
(43, (
u32št
)
œq11
, 0x08, 0x8E);

135 
	`idt_£t_g©e
(44, (
u32št
)
œq12
, 0x08, 0x8E);

136 
	`idt_£t_g©e
(45, (
u32št
)
œq13
, 0x08, 0x8E);

137 
	`idt_£t_g©e
(46, (
u32št
)
œq14
, 0x08, 0x8E);

138 
	`idt_£t_g©e
(47, (
u32št
)
œq15
, 0x08, 0x8E);

140 
	`idt_æush
((
u32št
)&
idt_±r
);

141 
	}
}

143 
	$idt_£t_g©e
(
u8št
 
num
, 
u32št
 
ba£
, 
u16št
 
£l
, u8šˆ
æags
)

145 
idt_’Œ›s
[
num
].
ba£_lo
 = 
ba£
 & 0xFFFF;

146 
idt_’Œ›s
[
num
].
ba£_hi
 = (
ba£
 >> 16) & 0xFFFF;

148 
idt_’Œ›s
[
num
].
£l
 = sel;

149 
idt_’Œ›s
[
num
].
®ways0
 = 0;

152 
idt_’Œ›s
[
num
].
æags
 = flags ;

153 
	}
}

	@descriptor_tables.h

1 #iâdeà
DESCIPTOR_TABLES_H


2 
	#DESCRIPTOR_TABLES_H


	)

5 
	sgdt_’Œy_¡ruù
 {

7 
u16št
 
	mlim™_low
;

10 
u16št
 
	mba£_low
;

13 
u8št
 
	mba£_middË
;

15 
u8št
 
	macûss
;

16 
u8št
 
	mg¿nuÏr™y
;

19 
u8št
 
	mba£_high
;

20 }
__©Œibu‹__
((
·cked
));

22 
gdt_’Œy_¡ruù
 
	tgdt_’Œy_t
;

25 
	sgdt_±r_¡ruù
 {

27 
u16št
 
	mlim™
;

30 
u32št
 
	mba£
;

31 }
__©Œibu‹__
((
·cked
));

33 
gdt_±r_¡ruù
 
	tgdt_±r_t
;

36 
	sidt_’Œy_¡ruù
 {

38 
u16št
 
	mba£_lo
;

41 
u16št
 
	m£l
;

43 
u8št
 
	m®ways0
;

45 
u8št
 
	mæags
;

48 
u16št
 
	mba£_hi
;

49 }
__©Œibu‹__
((
·cked
));

51 
idt_’Œy_¡ruù
 
	tidt_’Œy_t
;

53 
	sidt_±r_¡ruù
 {

54 
u16št
 
	mlim™
;

55 
u32št
 
	mba£
;

56 }
__©Œibu‹__
((
·cked
));

58 
idt_±r_¡ruù
 
	tidt_±r_t
;

61 
i¤0
 ();

62 
i¤1
 ();

63 
i¤2
 ();

64 
i¤3
 ();

65 
i¤4
 ();

66 
i¤5
 ();

67 
i¤6
 ();

68 
i¤7
 ();

69 
i¤8
 ();

70 
i¤9
 ();

71 
i¤10
();

72 
i¤11
();

73 
i¤12
();

74 
i¤13
();

75 
i¤14
();

76 
i¤15
();

77 
i¤16
();

78 
i¤17
();

79 
i¤18
();

80 
i¤19
();

81 
i¤20
();

82 
i¤21
();

83 
i¤22
();

84 
i¤23
();

85 
i¤24
();

86 
i¤25
();

87 
i¤26
();

88 
i¤27
();

89 
i¤28
();

90 
i¤29
();

91 
i¤30
();

92 
i¤31
();

94 
œq0
 ();

95 
œq1
 ();

96 
œq2
 ();

97 
œq3
 ();

98 
œq4
 ();

99 
œq5
 ();

100 
œq6
 ();

101 
œq7
 ();

102 
œq8
 ();

103 
œq9
 ();

104 
œq10
();

105 
œq11
();

106 
œq12
();

107 
œq13
();

108 
œq14
();

109 
œq15
();

110 
š™_desütÜ_bËs
();

	@isr.c

3 
	~"i¤.h
"

4 
	~"commÚ.h
"

5 
	~"mÚ™Ü.h
"

7 
i¤_t
 
	gš‹¼u±_hªdËrs
[256];

9 
	$»gi¡”_š‹¼u±_hªdËr
(
u8št
 
n
, 
i¤_t
 
hªdËr
)

11 
š‹¼u±_hªdËrs
[
n
] = 
hªdËr
;

12 
	}
}

14 
	$i¤_hªdËr
(
»gi¡”s_t
 
»gs
)

16 ià(
š‹¼u±_hªdËrs
[
»gs
.
št_no
] != 0)

18 
i¤_t
 
hªdËr
 = 
š‹¼u±_hªdËrs
[
»gs
.
št_no
];

19 
	`hªdËr
(
»gs
);

23 
	`mÚ™Ü_wr™e
("received interrupt: ");

24 
	`mÚ™Ü_wr™e_dec
(
»gs
.
št_no
);

25 
	`mÚ™Ü_put
('\n');

27 
	}
}

29 
	$œq_hªdËr
(
»gi¡”s_t
 
»gs
)

32 if(
»gs
.
št_no
 >= 40)

35 
	`outb
(0xA0, 0x20);

39 
	`outb
(0x20, 0x20);

41 if(
š‹¼u±_hªdËrs
[
»gs
.
št_no
] != 0)

43 
i¤_t
 
hªdËr
 = 
š‹¼u±_hªdËrs
[
»gs
.
št_no
];

44 
	`hªdËr
(
»gs
);

46 
	}
}

	@isr.h

1 #iâdeà
ISR_H


2 
	#ISR_H


	)

3 
	~"commÚ.h
"

5 
	s»gi¡”s
 {

6 
u32št
 
	mds
;

7 
u32št
 
	medi
, 
	mesi
, 
	mebp
, 
	me¥
, 
	mebx
, 
	medx
, 
	mecx
, 
	m—x
;

8 
u32št
 
	mšt_no
, 
	m”r_code
;

9 
u32št
 
	me
, 
	mcs
, 
	meæags
, 
	mu£»¥
, 
	mss
;

10 }
	t»gi¡”s_t
;

12 
	#IRQ0
 32

	)

13 
	#IRQ1
 33

	)

14 
	#IRQ2
 34

	)

15 
	#IRQ3
 35

	)

16 
	#IRQ4
 36

	)

17 
	#IRQ5
 37

	)

18 
	#IRQ6
 38

	)

19 
	#IRQ7
 39

	)

20 
	#IRQ8
 40

	)

21 
	#IRQ9
 41

	)

22 
	#IRQ10
 42

	)

23 
	#IRQ11
 43

	)

24 
	#IRQ12
 44

	)

25 
	#IRQ13
 45

	)

26 
	#IRQ14
 46

	)

27 
	#IRQ15
 47

	)

30 (*
	ti¤_t
)(
	t»gi¡”s_t
);

31 
	`»gi¡”_š‹¼u±_hªdËr
(
u8št
 
n
, 
i¤_t
 
hªdËr
);

	@kernel.c

1 
	~"mÚ™Ü.h
"

2 
	~"desütÜ_bËs.h
"

4 
	$maš
Ğ
muÉiboÙ
 *
mboÙ_±r
 )

6 
	`mÚ™Ü_ş—r
();

9 
	`š™_desütÜ_bËs
();

16 
	}
}

	@monitor.c

1 
	~"mÚ™Ü.h
"

3 
u8št
 
	gcursÜ_x
 = 0;

4 
u8št
 
	gcursÜ_y
 = 0;

6 
u16št
 *
	gvideo_memÜy
 = (u16šˆ*)
VIDEO
;

9 
	$move_cursÜ
()

11 
u16št
 
cursÜ_loÿtiÚ
 = 
cursÜ_y
*80 + 
cursÜ_x
;

14 
	`outb
(0x3D4, 14);

17 
	`outb
(0x3D5, 
cursÜ_loÿtiÚ
>>8);

20 
	`outb
(0x3D4, 15);

23 
	`outb
(0x3D5, 
cursÜ_loÿtiÚ
);

24 
	}
}

27 
	$süŞl
()

30 
u8št
 
©Œibu‹_by‹
 = (0 << 4) | (10 & 0x0F);

31 
u16št
 
bÏnk
 = 0x20 | (
©Œibu‹_by‹
 << 8);

34 ià(
cursÜ_y
 >= 25)

37 
i
;

38 
i
 = 0; i<24*80; i++)

39 
video_memÜy
[
i
] = video_memory[i+80];

42 
i
=24*80; i<25*80; i++)

43 
video_memÜy
[
i
] = 
bÏnk
;

45 
cursÜ_y
 = 24;

47 
	}
}

49 
	$mÚ™Ü_put
(
c
)

51 
u8št
 
back_cŞÜ
 = 0;

52 
u8št
 
fÜe_cŞÜ
 = 10;

54 
u8št
 
©Œibu‹_by‹
 = (
back_cŞÜ
 << 4è|| (
fÜe_cŞÜ
 &0x0F);

55 
u16št
 
©Œibu‹
 = 
©Œibu‹_by‹
 << 8;

57 
u16št
 *
loÿtiÚ
;

60 ià(
c
 =ğ0x08 && 
cursÜ_x
)

61 
cursÜ_x
--;

63 ià(
c
 == 0x09)

64 
cursÜ_x
 = (cursor_x + 8) & ~(8-1);

66 ià(
c
 == '\r')

67 
cursÜ_x
 = 0;

69 ià(
c
 == '\n')

71 
cursÜ_x
 = 0;

72 
cursÜ_y
++;

75 ià(
c
 >= ' ')

77 
loÿtiÚ
 = 
video_memÜy
 + (
cursÜ_y
*80 + 
cursÜ_x
);

78 *
loÿtiÚ
 = 
c
 | 
©Œibu‹
;

79 
cursÜ_x
++;

83 ià(
cursÜ_x
 >= 80)

85 
cursÜ_x
 = 0;

86 
cursÜ_y
++;

89 
	`süŞl
();

90 
	`move_cursÜ
();

91 
	}
}

94 
	$mÚ™Ü_ş—r
()

96 
u8št
 
©Œib_by‹
 = (0 << 4) | (15 & 0x0F);

97 
u16št
 
bÏnk
 = 0x20 | (
©Œib_by‹
 << 8);

99 
i
;

100 
i
=0; i < 80*25; i++)

101 
video_memÜy
[
i
] = 
bÏnk
;

104 
cursÜ_x
 = 0;

105 
cursÜ_y
 = 0;

106 
	`move_cursÜ
();

107 
	}
}

110 
	$mÚ™Ü_wr™e
(*
c
)

112 
i
=0;

113 
c
[
i
])

114 
	`mÚ™Ü_put
(
c
[
i
++]);

115 
	}
}

117 
	$mÚ™Ü_wr™e_dec
(
u32št
 
n
)

119 ià(
n
 == 0)

121 
	`mÚ™Ü_put
('0');

125 
s32št
 
acc
 = 
n
;

126 
c
[32];

127 
i
 = 0;

128 
acc
 > 0)

130 
c
[
i
] = '0' + 
acc
%10;

131 
acc
 /= 10;

132 
i
++;

134 
c
[
i
] = 0;

136 
c2
[32];

137 
c2
[
i
--] = 0;

138 
j
 = 0;

139 
i
 >= 0)

141 
c2
[
i
--] = 
c
[
j
++];

143 
	`mÚ™Ü_wr™e
(
c2
);

144 
	}
}

146 
	$mÚ™Ü_wr™e_hex
(
u32št
 
n
)

148 
s32št
 
tmp
;

150 
	`mÚ™Ü_wr™e
("0x");

152 
noZ”Ûs
 = 1;

154 
i
;

155 
i
 = 28; i > 0; i -= 4)

157 
tmp
 = (
n
 >> 
i
) & 0xF;

158 ià(
tmp
 =ğ0 && 
noZ”Ûs
 != 0)

163 ià(
tmp
 >= 0xA)

165 
noZ”Ûs
 = 0;

166 
	`mÚ™Ü_put
 (
tmp
-0xA+'a' );

170 
noZ”Ûs
 = 0;

171 
	`mÚ™Ü_put
Ğ
tmp
+'0' );

175 
tmp
 = 
n
 & 0xF;

176 ià(
tmp
 >= 0xA)

178 
	`mÚ™Ü_put
 (
tmp
-0xA+'a');

182 
	`mÚ™Ü_put
 (
tmp
+'0');

185 
	}
}

	@monitor.h

3 #iâdeà
MONITOR_H


4 
	#MONITOR_H


	)

6 
	~"commÚ.h
"

7 
	#VIDEO
 0xb8000

	)

10 
mÚ™Ü_put
(
c
);

13 
mÚ™Ü_ş—r
();

16 
mÚ™Ü_wr™e
(*
c
);

19 
mÚ™Ü_wr™e_dec
(
u32št
 
n
);

22 
mÚ™Ü_wr™e_hex
(
u32št
 
n
);

	@
1
.
1
/usr/include
9
99
common.c
common.h
descriptor_tables.c
descriptor_tables.h
isr.c
isr.h
kernel.c
monitor.c
monitor.h
